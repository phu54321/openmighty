{"version":3,"sources":["webpack:///webpack/bootstrap 751fa44cba2a58ddd965","webpack:///./src/clientjs/main.js","webpack:///./src/clientjs/formIssuer.js","webpack:///./src/clientjs/roomjoin.js","webpack:///./src/clientjs/game/conn.js","webpack:///./src/clientjs/game/procCmd.js","webpack:///./src/clientjs/game/game.js","webpack:///./src/clientjs/game/template.js","webpack:///./src/clientjs/game/room.js","webpack:///./src/clientjs/game/cmdRoom.js","webpack:///./src/clientjs/game/cmdBidding.js","webpack:///./src/clientjs/game/cmdFriendSelect.js"],"names":["require","window","issueRegister","issueForm","formVerifier_NoBlank","formVerifier_AlwaysAllow","location","reload","issueLogout","$","ajax","type","url","success","data","error","jqXHR","textStatus","errorThrown","console","log","responseText","value","formName","nameTable","callback","targetForm","ajaxData","i","length","inputName","postName","formVerifier","errorMsg","find","val","alert","prop","dataType","generateRandomID","text","charset","charAt","Math","floor","random","attr","origin","submit","e","$roomURL","roomURL","randomID","href","preventDefault","Materialize","io","cmdproc","socket","ready","on","msg","toast","translateCmdMessage","exports","sendCmd","object","copy","Object","assign","emit","cmdTranslatorMap","game","room","gabort","obj","playing","viewRoom","template","module","viewDeck","$playerDeck","empty","deck","card","shape","num","$deckCardContainer","addClass","append","shapeAbbrTable","shapeStringTable","jqueryMethods","$parent","name","attrs","$template","clone","removeAttr","$elm","selector","attributes","Array","isArray","forEach","applyAttribute","attribute","indexOf","myidf","owner","users","conn","president","gameUsers","$playerSlots","removeClass","self","$playerSlot","user","username","useridf","addStartButton","selfIndex","$gameCardContainer","click","rjoin","push","rleft","splice","rusers","youridf","gusers","remainingBidder","lastBidder","pbinfo","$bidderCardContainer","bidder","bidShape","bidCount","remove","$biddingInfo","bidrq","$playerCardContainer","$bidForm","parseInt","bc1rq","$bidChangeForm","binfo","bidString","_","genCardMap","encodeFriend","friendType","cardMap","friendCard","ftype","decodeFriend","keys","some","key","args","fsrq","toggleClass","$friendSelector","$fSelectForm","cards","toArray","selected","hasClass","discards","bidch2","fs","friendString","$title"],"mappings":"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","file":"app.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 751fa44cba2a58ddd965","/**\n * Created by whyask37 on 2017. 1. 19..\n */\n\n\"use strict\";\n\nrequire('./formIssuer');\nrequire('./roomjoin');\nrequire('./game/conn');\n\n\n\n// WEBPACK FOOTER //\n// ./src/clientjs/main.js","\"use strict\";\n\nwindow.issueRegister = function () {\n    'use strict';\n    issueForm(\n        '/users/register',\n        'registerForm',\n        [\n            ['username', 'username', formVerifier_NoBlank, '이름을 입력하세요.'],\n            ['useridf', 'useridf', formVerifier_AlwaysAllow, ''],\n        ],\n        function() {\n            window.location.reload(true);\n        }\n    );\n};\n\nwindow.issueLogout = function () {\n    $.ajax({\n        type: 'POST',\n        url: '/users/logout',\n        success: function(data) {\n            window.location.reload(true);\n        },\n        error: function(jqXHR, textStatus, errorThrown) {\n            console.log(textStatus, 'message : ' + jqXHR.responseText + '\\nerror : ' + errorThrown);\n        }\n    });\n}\n\n\n//////////\n\n\nfunction formVerifier_AlwaysAllow(value) {\n    return true;\n}\n\nfunction formVerifier_NoBlank(value) {\n    return value !== '';\n}\n\n/**\n * Form의 내용을 종합해 Ajax request를 전송합니다. 이 때 form의 input를 임시로 모두 disable시킵니다\n * @param url - ajax를 날릴 URL\n * @param formName - form의 아이디\n * @param nameTable - ajax의 파라미터 정의. 아래 형식 배열의 배열로 되어있다.\n *      [(form 내 name), (ajax 파라미터 이름), formVerifier, (verifier 실패시 메세지)]\n * @param callback(data) - ajax에서 error가 없을 때 낼 동작\n * @returns {boolean} - ajax가 제대로 보내졌는지\n */\nfunction issueForm(url, formName, nameTable, callback) {\n    'use strict';\n\n    const targetForm = $('#' + formName);\n    const ajaxData = {};\n\n    if (!targetForm) {\n        console.log('Unknown form \\'' + formName + '\\'');\n        return false;\n    }\n\n    // Collect form values\n    for(let i = 0 ; i < nameTable.length ; i++) {\n        let [inputName, postName, formVerifier, errorMsg] = nameTable[i];\n        if(!formVerifier) formVerifier = formVerifier_AlwaysAllow;\n        if(!errorMsg) errorMsg = \"허용되지 않은 입력입니다.\";\n\n        ajaxData[postName] = targetForm.find('#' + inputName).val();\n        if(!formVerifier(ajaxData[postName])) {\n            window.alert(errorMsg);\n            return false;\n        }\n    }\n\n    // Disable form temporarilly\n    targetForm.find('input, textarea').prop('disabled', true);\n\n    $.ajax({\n        type: 'POST',\n        url: url,\n        data: ajaxData,\n        dataType: 'json',\n        success: function(data) {\n            if(!data.error) {\n                callback(data);\n            }\n            else {\n                // Re-enable form to allow correction.\n                targetForm.find('input, textarea').prop('disabled', false);\n                window.alert(data.error);\n            }\n        },\n        error: function(jqXHR, textStatus, errorThrown) {\n            console.log(textStatus, 'message : ' + jqXHR.responseText + '\\nerror : ' + errorThrown);\n        }\n    });\n    return true;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/clientjs/formIssuer.js","/**\n * Created by whyask37 on 2017. 1. 11..\n */\n\n\"use strict\";\n\n// 게임 시작시 할 일들입니다.\n$(function () {\n    /**\n     * 특정 길이의 랜덤 alphanumeric 스트링을 만든다.\n     */\n\n    function generateRandomID(length) {\n        let text = \"\";\n        const charset = \"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ\";\n\n        for(let i = 0; i < length; i++ )\n            text += charset.charAt(Math.floor(Math.random() * charset.length));\n\n        return text;\n    }\n\n    // RoomURL의 패턴을 설정합니다.\n    $('#roomURL').attr(\n        'pattern',\n        '^' + location.origin + '/[a-zA-Z0-9]{8}|$');\n\n    $('#joinRoom').submit(function (e) {\n        const $roomURL = $('#roomURL');\n        let roomURL = $roomURL.val();\n        if (roomURL === '') {\n            const randomID = generateRandomID(8);\n            roomURL = window.location.origin + \"/\" + randomID;\n            $roomURL.val(roomURL);\n        }\n        window.location.href = roomURL;\n\n        e.preventDefault();\n    });\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/clientjs/roomjoin.js","/**\n * Created by whyask37 on 2017. 1. 19..\n */\n\n\"use strict\";\n\nconst Materialize = window.Materialize;\nconst io = window.io;\n\nconst cmdproc = require('./procCmd');\n\nlet socket;\n\n\n$('#gameDiv').ready(function () {\n    socket = io();\n\n    socket.on('err', function (msg) {\n        Materialize.toast(msg, 3000);\n    });\n\n    socket.on('info', function (msg) {\n        \"use strict\";\n        console.log('info', msg);\n    });\n\n\n    socket.on('cmd', function (msg) {\n        \"use strict\";\n        console.log('cmd', msg);\n        cmdproc.translateCmdMessage(msg);\n    });\n\n    socket.on('disconnect', function () {\n        \"use strict\";\n        // alert('서버와의 연결이 끊겼습니다.');\n    });\n});\n\nexports.sendCmd = function (type, object) {\n    \"use strict\";\n\n    const copy = Object.assign({}, object || {});\n    copy.type = type;\n    socket.emit('cmd', copy);\n    return true;\n};\n\nwindow.sendCmd = exports.sendCmd;\n\n\n\n// WEBPACK FOOTER //\n// ./src/clientjs/game/conn.js","/**\n * Created by whyask37 on 2017. 1. 11..\n */\n\n\"use strict\";\n\nconst cmdTranslatorMap = {};\nconst Materialize = window.Materialize;\n\nconst game = require('./game');\nconst room = require('./room');\n\nexports.translateCmdMessage = function (msg) {\n    if(cmdTranslatorMap[msg.type]) cmdTranslatorMap[msg.type](msg);\n    else Materialize.toast('Unknown command message type : ' + msg.type, 4000);\n};\n\n///////////////////////////////////\n\n// Room users\nrequire('./cmdRoom')(cmdTranslatorMap);\nrequire('./cmdBidding')(cmdTranslatorMap);\nrequire('./cmdFriendSelect')(cmdTranslatorMap);\n\n\ncmdTranslatorMap.gabort = function (obj) {\n    const msg = obj.msg || '게임이 중간에 종료되었습니다.';\n    Materialize.toast(msg, 3000);\n    room.playing = false;\n    room.viewRoom();\n    $('#title').text('openMighty');\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/clientjs/game/procCmd.js","/**\n * Created by whyask37 on 2017. 1. 20..\n */\n\n\"use strict\";\n\n\nconst game = {};\nconst template = require('./template');\n\nexports = module.exports = game;\nexports.game = game;\n\n\nexports.viewDeck = function () {\n    const $playerDeck = $('.deck');\n    $playerDeck.empty();\n\n    for (let i = 0; i < game.deck.length; i++) {\n        const card = game.deck[i];\n        const [shape, num] = [card.shape, card.num];\n\n        const $deckCardContainer = template(null, 'deck-card');\n        $deckCardContainer.find('.game-card').addClass('game-card-' + shape[0] + num);\n        $playerDeck.append($deckCardContainer);\n    }\n};\n\n\n// Various utilities\n\nexports.shapeAbbrTable = {\n    'spade': '♠',\n    'heart': '♥',\n    'diamond': '♦',\n    'clover': '♣',\n    'none': 'N',\n};\n\nexports.shapeStringTable = {\n    'spade': '스페이드',\n    'heart': '하트',\n    'diamond': '다이아몬드',\n    'clover': '클로버',\n    'none': '노기루다',\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/clientjs/game/game.js","/**\n * Created by whyask37 on 2017. 1. 20..\n */\n\n\"use strict\";\n\nconst Materialize = window.Materialize;\n\nconst jqueryMethods = [\n    'text', 'val', 'submit', 'click', 'remove', 'empty',\n];\n\nmodule.exports = function ($parent, name, attrs) {\n    const $template = $('#template-' + name).clone().removeAttr('id');\n    if($parent) {\n        $parent.empty();\n        $parent.append($template);\n    }\n\n    if(!attrs) return $template;\n\n    // Set attributes\n    let $elm;\n    for(let i = 0 ; i < attrs.length ; i++) {\n        const [selector, attributes] = attrs[i];\n        $elm = selector ? $template.find(selector) : $template;\n        if($elm.length != 1) {\n            Materialize.toast('Invalid selector : ' + selector, 4000);\n            console.log('Invalid selector', attrs[i]);\n            continue;\n        }\n\n        if(Array.isArray(attributes[0])) {\n            attributes.forEach(applyAttribute);\n        }\n        else applyAttribute(attributes);\n    }\n\n    function applyAttribute(attribute) {\n        const [attr, value] = attribute;\n        if(jqueryMethods.indexOf(attr) != -1) $elm[attr](value);\n        else $elm.attr(attr, value);\n    }\n\n    return $template;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/clientjs/game/template.js","/**\n * Created by whyask37 on 2017. 1. 20..\n */\n\n\"use strict\";\n\nconst game = require('./game');\nconst room = {\n    playing: false,\n    myidf: null,\n    owner: 0,\n    users: []\n};\nconst conn = require('./conn');\nconst template = require('./template');\n\n\nexports = module.exports = room;\n\nexports.viewRoom = function () {\n    let users, owner, president;\n    if(!room.playing) {\n        owner = room.owner;\n        users = room.users;\n        president = -1;\n    }\n    else {\n        owner = -1;\n        users = game.gameUsers;\n        president = game.president;\n    }\n\n    const $playerSlots = $('.player-slot');\n    $playerSlots.removeClass('player-owner player-president player-self');\n\n    let self = null;\n\n    for(let i = 0 ; i < users.length ; i++) {\n        const $playerSlot = $($playerSlots[i]);\n        const user = users[i];\n        $playerSlot.find('.player-name').text(user.username);\n        $playerSlot.find('.game-card-container').empty();\n\n        if(owner === i) $playerSlot.addClass('player-owner');\n        if(president === i) $playerSlot.addClass('player-president');\n        if(user.useridf == room.myidf) {\n            $playerSlot.addClass('player-self');\n            self = i;\n        }\n    }\n\n    for(let i = users.length ; i < 5 ; i++) {\n        const $playerSlot = $($playerSlots[i]);\n        $playerSlot.find('.player-name').text(\"Empty\");\n        $playerSlot.find('.game-card-container').empty();\n    }\n\n    if(!room.playing) {\n        if (owner === self) {\n            addStartButton();\n        }\n    }\n    else {\n        game.selfIndex = self;\n    }\n};\n\n\nfunction addStartButton() {\n    const $gameCardContainer = $('.player-self').find('.game-card-container');\n    template($gameCardContainer, 'button');\n    $gameCardContainer.find('button').click(function(e) {\n        conn.sendCmd('start');\n        e.preventDefault();\n    });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/clientjs/game/room.js","/**\n * Created by whyask37 on 2017. 1. 19..\n */\n\n\"use strict\";\n\nconst room = require('./room');\n\nconst Materialize = window.Materialize;\n\nmodule.exports = function (cmdTranslatorMap) {\n    cmdTranslatorMap.rjoin = function (msg) {\n        \"use strict\";\n        Materialize.toast(msg.username + '님이 입장하셨습니다.', 2000);\n        room.users.push({\n            username: msg.username,\n            useridf: msg.useridf\n        });\n        room.viewRoom();\n    };\n\n    cmdTranslatorMap.rleft = function (msg) {\n        \"use strict\";\n        const users = room.users;\n        for (let i = 0; i < users.length; i++) {\n            const user = users[i];\n            if (user.useridf == msg.useridf) {\n                Materialize.toast(user.username + '님이 퇴장하셨습니다.', 2000);\n                users.splice(i, 1);\n                break;\n            }\n        }\n        room.owner = msg.owner;\n        if (!room.playing) room.viewRoom();\n    };\n\n    cmdTranslatorMap.rusers = function (msg) {\n        \"use strict\";\n        room.owner = msg.owner;\n        room.users = msg.users;\n        room.myidf = msg.youridf;\n        room.viewRoom();\n    };\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/clientjs/game/cmdRoom.js","/**\n * Created by whyask37 on 2017. 1. 20..\n */\n\n\"use strict\";\n\nconst Materialize = window.Materialize;\n\nconst template = require('./template');\nconst game = require('./game');\nconst room = require('./room');\nconst conn = require('./conn');\n\nmodule.exports = function (cmdTranslatorMap) {\n    /**\n     * 게임 유저에 대한 프로세서\n     * @param msg\n     */\n    cmdTranslatorMap.gusers = function (msg) {\n        game.gameUsers = msg.users;\n\n        game.president = -1;\n        game.remainingBidder = 5;\n        game.lastBidder = null;\n\n        room.playing = true;\n        room.viewRoom();\n    };\n\n\n    /**\n     * 덱이 왔을 때 처리\n     * @param msg\n     */\n    cmdTranslatorMap.deck = function (msg) {\n        game.deck = msg.deck;\n        game.viewDeck();\n    };\n\n    /**\n     * 플레이어가 비딩했다는 정보가 들어왔을 때 (본인 포함)\n     * @param msg\n     */\n    cmdTranslatorMap.pbinfo = function (msg) {\n        const $bidderCardContainer = $($('.player-slot .game-card-container')[msg.bidder]);\n\n        // 패스가 아니라면 마지막 공약 업데이트\n        if (msg.bidShape != 'pass') {\n            game.bidShape = msg.bidShape;\n            game.bidCount = msg.bidCount;\n            game.lastBidder = msg.bidder;\n        }\n\n        // 공약 표시\n        $bidderCardContainer.find('.game-card').remove();\n        const $biddingInfo = $('<div/>').addClass('game-card player-card-bidding');\n        if (msg.bidShape == 'pass') {\n            $biddingInfo.text(\"pass\");\n            game.remainingBidder--;\n        }\n        else {\n            $biddingInfo.text(msg.bidShape + ' ' + msg.bidCount);\n        }\n        $bidderCardContainer.append($biddingInfo);\n\n        // 공약 완료 체크\n        if (game.remainingBidder == 1 && game.lastBidder !== null) {\n            if(game.lastBidder != game.selfIndex) {\n                Materialize.toast(\"공약이 끝났습니다. 기다려주세요\", 1500);\n            }\n            game.president = game.lastBidder;\n        }\n    };\n\n    /**\n     * 공약 요청이 들어왔을 때\n     */\n    cmdTranslatorMap.bidrq = function () {\n        // 최소 공약\n        let bidCount = game.bidCount || 13;\n        if (game.bidShape == 'none') bidCount++;\n\n        const $playerCardContainer = $('.player-self .game-card-container');\n\n        const $bidForm = template($playerCardContainer, 'bidding');\n        $bidForm.attr('id', 'bidForm');\n        $bidForm.find('input[name=\"bidCount\"]')\n            .attr('min', bidCount)\n            .val(bidCount);\n        $bidForm.submit(function() {\n            \"use strict\";\n\n            const $bidForm = $('#bidForm');\n            const bidShape = $bidForm.find('*[name=\"bidShape\"]').val();\n            const bidCount = $bidForm.find('*[name=\"bidCount\"]').val();\n            conn.sendCmd('bid', {\n                shape: bidShape,\n                num: parseInt(bidCount)\n            });\n            return false;\n        });\n    };\n\n\n    /**\n     * 1차 공약 수정 요청이 들어왔을 때\n     */\n    cmdTranslatorMap.bc1rq = function () {\n        Materialize.toast('공약을 수정해주세요.', 1500);\n\n        const bidShape = game.bidShape;\n        const bidCount = game.bidCount;\n\n        const $playerCardContainer = $('.player-self .game-card-container');\n        template($playerCardContainer, 'bidding', [\n            [null, ['id', 'bidChangeForm']],\n\n            ['.player-form-title', ['text', \"현재 : \" + game.shapeAbbrTable[bidShape] + bidCount]],\n\n            ['input[name=\"bidCount\"]', [\n                ['min', bidCount],\n                ['val', bidCount]\n            ]],\n\n            ['option[value=\"' + bidShape + '\"]', ['remove']],\n\n            ['option[value=\"pass\"]', [\n                ['val', bidShape],\n                ['text', \"그대로 (\" + game.shapeStringTable[bidShape] + \")\"]\n            ]],\n            [null, ['submit', function() {\n                const $bidChangeForm = $('#bidChangeForm');\n                let bidShape = $bidChangeForm.find('*[name=\"bidShape\"]').val();\n                const bidCount = $bidChangeForm.find('*[name=\"bidCount\"]').val();\n                if (bidShape == game.bidShape && bidCount == game.bidCount) bidShape = 'pass';\n\n                conn.sendCmd('bc1', {\n                    shape: bidShape,\n                    num: parseInt(bidCount)\n                });\n                return false;\n            }]]\n        ]);\n    };\n\n    /**\n     * 1차 공약수정 후 공약을 알린다.\n     * @param msg\n     */\n    cmdTranslatorMap.binfo = function (msg) {\n        $('.player-slot .game-card-container').empty();\n\n        const bidString = game.shapeStringTable[msg.shape] + ' ' + msg.num;\n        Materialize.toast('공약 : ' + bidString, 1500);\n        $('#title').text('openMighty - ' + bidString);\n        game.bidShape = msg.shape;\n        game.bidCount = msg.num;\n        game.president = msg.president;\n    };\n};\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/clientjs/game/cmdBidding.js","/**\n * Created by whyask37 on 2017. 1. 20..\n */\n\n\"use strict\";\n\nconst Materialize = window.Materialize;\n\nconst _ = window._;\nconst template = require('./template');\nconst room = require('./room');\nconst game = require('./game');\nconst conn = require('./conn');\n\nmodule.exports = function (cmdTranslatorMap) {\n    function genCardMap(bidShape) {\n        return {\n            'mighty': {shape: bidShape == 'spade' ? 'diamond' : 'spade', num: 14},\n            'joker': {shape: 'joker', num: 0},\n            'girudaA': {shape: bidShape, num: 14},\n            'girudaK': {shape: bidShape, num: 13}\n        };\n    }\n\n\n    /**\n     * 프렌드 타입 -> 메세지\n     * @param bidShape\n     * @param friendType\n     * @param msg\n     * @returns {boolean}\n     */\n    function encodeFriend(bidShape, friendType, msg) {\n        const cardMap = genCardMap(bidShape);\n        if(cardMap[friendType]) {\n            const friendCard = cardMap[friendType];\n            msg.ftype = 'card';\n            msg.shape = friendCard.shape;\n            msg.num = friendCard.num;\n            return true;\n        }\n        return false;\n    }\n\n\n    /**\n     * 메세지 -> 프렌드 타입\n     * @param bidShape\n     * @param msg\n     * @returns {*}\n     */\n    function decodeFriend(bidShape, msg) {\n        const cardMap = genCardMap(bidShape);\n\n        if(msg.ftype == 'card') {\n            let ftype = null;\n            _.keys(cardMap).some((key) => {\n                const card = cardMap[key];\n                if(card.shape == msg.args.shape && card.num == msg.args.num) {\n                    ftype = key;\n                    return true;\n                }\n            });\n            return ftype;\n        }\n        else return null;\n    }\n\n    /**\n     * 버려달라는 부탁을 받았을 때.\n     * @param msg\n     */\n    cmdTranslatorMap.fsrq = function () {\n        \"use strict\";\n        Materialize.toast('카드 3장을 버리고 프렌드를 선정하세요', 1500);\n\n\n        // 덱을 선택할 수 있도록 한다.\n        $('.deck-card').click(function() {\n            $(this).toggleClass('deck-card-selected');\n        });\n\n        const bidCount = game.bidCount;\n        const bidShape = game.bidShape;\n\n        const $playerCardContainer = $('.player-self .game-card-container');\n        const $friendSelector = template($playerCardContainer, 'fselect', [\n            [null, ['id', 'friendSelectForm']],\n            ['option[value=' + bidShape + ']', 'remove'],\n            ['input[name=\"bidCount\"]', [\n                ['min', bidCount],\n                ['val', bidCount]\n            ]],\n            ['option[value=\"pass\"]', ['val', bidShape]],\n        ]);\n\n        $friendSelector.submit(function() {\n            const msg = {};\n            const $fSelectForm = $('#friendSelectForm');\n\n            // 고른 카드 선택\n            const cards = $('.deck .deck-card').toArray();\n            const selected = [];\n            for(let i = 0 ; i < cards.length ; i++) {\n                if($(cards[i]).hasClass('deck-card-selected')) {\n                    selected.push(i);\n                }\n            }\n            if(selected.length != 3) {\n                Materialize.toast('3장을 골라주세요.', 1500);\n                return false;\n            }\n            msg.discards = selected;\n\n            // 새로운 공약\n            const bidShape = $fSelectForm.find('*[name=\"bidShape\"]').val();\n            const bidCount = $fSelectForm.find('*[name=\"bidCount\"]').val();\n            if (!(bidShape == game.bidShape && bidCount == game.bidCount)) {\n                msg.bidch2 = {\n                    bidShape: bidShape,\n                    bidCount: bidCount\n                };\n            }\n\n            // 프렌드 선택\n            const friendType = $fSelectForm.find('select[name=friendType]').val();\n            if(!encodeFriend(bidShape, friendType, msg)) {\n                Materialize.toast('프렌드를 선정해주세요.', 1500);\n                return false;\n            }\n\n            conn.sendCmd('fs', msg);\n            return false;\n        });\n    };\n\n\n    /**\n     * 프렌드 선정 완료\n     * @param msg\n     */\n    cmdTranslatorMap.fs = function (msg) {\n        const friendType = decodeFriend(game.bidShape, msg);\n        const friendString = $('#template-fselect').find('select[name=\"friendType\"]').text() + \" 프렌드\";\n        Materialize.toast(friendString, 2000);\n\n        const $title = $('#title');\n        $title.text($title.text() + ' - ' + friendString);\n    };\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/clientjs/game/cmdFriendSelect.js"],"sourceRoot":""}